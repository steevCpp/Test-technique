#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include"wordcount.h"


#define N 19

/************************************************/
ListWord *initialisation(char firstword[N])
{
    ListWord *list = malloc(sizeof(*list));
    Word *word = malloc(sizeof(*word));

    if (list == NULL || word == NULL) /*allocation fail */
    {
        exit(EXIT_FAILURE);
    }

    strcpy(word->String, firstword);
    word->count=1;
    word->next = NULL;
    list->first = word;

    return list;
}

/***********************************************/
void insert(ListWord *list, char newstring[N])
{
    /* creat new word space*/
    Word *new = malloc(sizeof(*new));
    if (list == NULL || new == NULL)
    {
        exit(EXIT_FAILURE);
    }
    strcpy(new->String, newstring);
    new->count = +1;

    /* Insert new word */
    new->next = list->first;
    list->first = new;
}

/********************************************/
void printList(ListWord *list)
{
    if (list == NULL)
    {
        exit(EXIT_FAILURE);
    }

    Word *act = list->first;

    while (act != NULL)
    {
        printf("%d %s\n ", act->count,act->String);
        act = act->next;
    }
    printf("NULL\n");
}


/***********************************/
/* return size of list */
int Length(ListWord *list)
{
        int n=0;
        Word *act = list->first;
        while(list->first)
          {
              n++;
              act = act->next;
          }
        return n;
}


/*******************************************/
void Clear(ListWord *list)
{

        while(list->first)
          {
             Word *tmp = list->first;
             free(list->first);
             list->first = tmp->next;
          }
}

/*******************************************/

void TextToWord(char line[LINE_MAX]){
   
  // Boucle de lecture des caractères un à un
  int i = 0;
        do
        {
            caractereActuel = fgetc(fichier); 
            //printf("%c", caractereActuel);
            if(caractereActuel != ' ' ){
                tmpword[i] = caractereActuel;
                i++;
            }else{

                i = 0;
                printf("%s\n", tmpword);
               
               
            }
          i++;
        } while (line[i] != EOF); 

}







